{% extends "base.html" %} {% block title %}Store Admin{% endblock %}{% block
logout %}
<span
              id="logout"
              style="display: block inline-block; width: 600px"
            >
              <span style="margin: auto"
                ><i
                  ><a
                    class="nav-item nav-link"
                    style="float: left; color: rgb(255, 215, 0)"
                    href="/logout"
                    style="display: block; width: 10%; margin-left: 0px"
                    ><svg
                      xmlns="http://www.w3.org/2000/svg"
                      width="16"
                      height="16"
                      fill="currentColor"
                      class="bi bi-box-arrow-right"
                      viewBox="0 0 16 16"
                    >
                      <path
                        fill-rule="evenodd"
                        d="M10 12.5a.5.5 0 0 1-.5.5h-8a.5.5 0 0 1-.5-.5v-9a.5.5 0 0 1 .5-.5h8a.5.5 0 0 1 .5.5v2a.5.5 0 0 0 1 0v-2A1.5 1.5 0 0 0 9.5 2h-8A1.5 1.5 0 0 0 0 3.5v9A1.5 1.5 0 0 0 1.5 14h8a1.5 1.5 0 0 0 1.5-1.5v-2a.5.5 0 0 0-1 0v2z"
                      />
                      <path
                        fill-rule="evenodd"
                        d="M15.854 8.354a.5.5 0 0 0 0-.708l-3-3a.5.5 0 0 0-.708.708L14.293 7.5H5.5a.5.5 0 0 0 0 1h8.793l-2.147 2.146a.5.5 0 0 0 .708.708l3-3z"
                      /></svg
                    >Logout</a
                  ></i
                ></span
              ><span style="margin: auto"
                ><a
                  class="nav-item nav-link"
                  style="
                    float: left;
                    color: rgb(160, 82, 45);
                    width: 60%;
                    margin-left: 20px;
                  "
                  href="/delete_account"
                  onclick="return confirm('Are you sure you want to delete the account?');"
                  >Delete MyAccount</a
                ></span
              ></span
            >
{% endblock %}{% block cart %}
<span style="margin: auto"
 ><a
   class="nav-item nav-link"
   style="
     float: right;
     color: rgb(174, 255, 0);
     width: 40%;
     font-size: 1.3rem;
     margin-right: 20px;
   "
   href="/store"
   ><svg xmlns="http://www.w3.org/2000/svg" width="31" height="27" fill="currentColor" class="bi bi-cup-hot-fill" style="color:aquamarine" viewBox="0 0 16 16">
    <path fill-rule="evenodd" d="M.5 6a.5.5 0 0 0-.488.608l1.652 7.434A2.5 2.5 0 0 0 4.104 16h5.792a2.5 2.5 0 0 0 2.44-1.958l.131-.59a3 3 0 0 0 1.3-5.854l.221-.99A.5.5 0 0 0 13.5 6H.5ZM13 12.5a2.01 2.01 0 0 1-.316-.025l.867-3.898A2.001 2.001 0 0 1 13 12.5Z"/>
    <path d="m4.4.8-.003.004-.014.019a4.167 4.167 0 0 0-.204.31 2.327 2.327 0 0 0-.141.267c-.026.06-.034.092-.037.103v.004a.593.593 0 0 0 .091.248c.075.133.178.272.308.445l.01.012c.118.158.26.347.37.543.112.2.22.455.22.745 0 .188-.065.368-.119.494a3.31 3.31 0 0 1-.202.388 5.444 5.444 0 0 1-.253.382l-.018.025-.005.008-.002.002A.5.5 0 0 1 3.6 4.2l.003-.004.014-.019a4.149 4.149 0 0 0 .204-.31 2.06 2.06 0 0 0 .141-.267c.026-.06.034-.092.037-.103a.593.593 0 0 0-.09-.252A4.334 4.334 0 0 0 3.6 2.8l-.01-.012a5.099 5.099 0 0 1-.37-.543A1.53 1.53 0 0 1 3 1.5c0-.188.065-.368.119-.494.059-.138.134-.274.202-.388a5.446 5.446 0 0 1 .253-.382l.025-.035A.5.5 0 0 1 4.4.8Zm3 0-.003.004-.014.019a4.167 4.167 0 0 0-.204.31 2.327 2.327 0 0 0-.141.267c-.026.06-.034.092-.037.103v.004a.593.593 0 0 0 .091.248c.075.133.178.272.308.445l.01.012c.118.158.26.347.37.543.112.2.22.455.22.745 0 .188-.065.368-.119.494a3.31 3.31 0 0 1-.202.388 5.444 5.444 0 0 1-.253.382l-.018.025-.005.008-.002.002A.5.5 0 0 1 6.6 4.2l.003-.004.014-.019a4.149 4.149 0 0 0 .204-.31 2.06 2.06 0 0 0 .141-.267c.026-.06.034-.092.037-.103a.593.593 0 0 0-.09-.252A4.334 4.334 0 0 0 6.6 2.8l-.01-.012a5.099 5.099 0 0 1-.37-.543A1.53 1.53 0 0 1 6 1.5c0-.188.065-.368.119-.494.059-.138.134-.274.202-.388a5.446 5.446 0 0 1 .253-.382l.025-.035A.5.5 0 0 1 7.4.8Zm3 0-.003.004-.014.019a4.077 4.077 0 0 0-.204.31 2.337 2.337 0 0 0-.141.267c-.026.06-.034.092-.037.103v.004a.593.593 0 0 0 .091.248c.075.133.178.272.308.445l.01.012c.118.158.26.347.37.543.112.2.22.455.22.745 0 .188-.065.368-.119.494a3.198 3.198 0 0 1-.202.388 5.385 5.385 0 0 1-.252.382l-.019.025-.005.008-.002.002A.5.5 0 0 1 9.6 4.2l.003-.004.014-.019a4.149 4.149 0 0 0 .204-.31 2.06 2.06 0 0 0 .141-.267c.026-.06.034-.092.037-.103a.593.593 0 0 0-.09-.252A4.334 4.334 0 0 0 9.6 2.8l-.01-.012a5.099 5.099 0 0 1-.37-.543A1.53 1.53 0 0 1 9 1.5c0-.188.065-.368.119-.494.059-.138.134-.274.202-.388a5.446 5.446 0 0 1 .253-.382l.025-.035A.5.5 0 0 1 10.4.8Z"/>
  </svg>Store
   </a
></span> {% endblock %} {% block content %}<section>
  <div class="container">
    <div class="row">
      <div class="col-8">
<h5>
  <span style="float: left; font-size: 2vw">{{ name }}'s Dashboard</span>
</h5></div>
<br><br>
<div class="col-6">
  <div class="col-2" ><strong>Search For: </strong></div>
  <form action="{{ url_for('views.Dash_manager') }}" method="POST" autocomplete="off">
    <div class="row">
      
      <div class="col-6">
        <input type="text" class="form-control" name="search" id="search" placeholder="Enter Keyword" />
      </div>
      <div class="col-2" align="left">
        <input type="submit" class="form-control btn btn-primary" value="Search"  /> 
      </div>
      <div class="col-3" align="left"><a href="{{ url_for('views.Dash_manager') }}">
        <input type="submit" class="form-control btn btn-dark" value="Go back"  /> </a>
      </div>
    </div>
  </form>
</div>

</div>
<!-- <span ><a href="">Summary</a></span> -->
<!-- <span style="float: right"><a href="/logout">Logout</a></span> -->
</div>

<hr /></section>
<!-- <div><a href="/category_create">Add Category</a></div>
<div></div> -->
<section>
<div>
  {% if categories.items|length == 0 %}
  <div class="alert alert-warning" role="alert">
    <p>None Categories Found, Not Added yet.</p>
    Press
    <button type="button" class="btn btn-dark btn-sm">
      <a
        href="{{url_for('views.Add_category')}}"
        class="alert-link;text-decoration: none;"
        style="
          /* background-color: green; */
          color: rgb(153, 43, 226);
          padding: 10px 10px; text-decoration: none;
        "
        >'Add Category'</a
      >
    </button>
    to add a new category
  </div>
  <!-- <h5>No categories Defined. Press 'Add Category' to add a new category</h5> -->
  {% else %}
  <span style="float: left"
  >
    <a class="btn btn-dark"
      style="color: rgb(216, 249, 1); font-size: 1.5vw;text-decoration: none;"
      href="{{url_for('views.Add_category')}}"
      >Add Category</a
    >
  </span
><button type="button" class="btn btn-info" style="margin-left: 20%;color: rgba(227, 21, 7, 0.809); font-size: 1.5vw;text-decoration: none;" data-toggle="modal" data-target="#exampleModalCenter">
  <em>Best Selling Category</em>
</button>

<!-- Modal -->
<div class="modal fade modal-lg" id="exampleModalCenter" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true" style="width:1500px;">
  <div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLongTitle">Highest Selling Category</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <img src="{{ url_for('static',filename='BestCategory.png') }}">
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
        
      </div>
    </div>
  </div>
</div>
<span style="float: left"
  >
   
  </span
>
<br>
<br>
<h6>(Page {{ categories.page }})</h6> 
  <table class="table table-hover"
    style="
      border: 5px solid rgb(0, 255, 242);

      /* background-color: #96d4d4; */
      width: 80%;
    "
  ><thead class="thead-dark">
    <tr align="center" style="border-bottom: 2px solid black">
      <th
        style="
          padding: 10px 10px;
          width: 10%;
          border-right: 3px solid rgb(3, 33, 31);
        "
      >
        Id
      </th>
      <th
        style="
          border-right: 3px solid rgb(3, 33, 31);

          padding: 10px 10px;
          width: 35%;
        "
      >
        Category Name
      </th>

      <th style=" padding: 10px 10px; width: 45%" colspan="3">
        Actions
      </th>
    </tr></thead>
    <tbody>

    {% for variety in categories.items %}
    <tr align="center" style="width: 100%">
      <td style="padding: 10px; border-right: 3px solid rgb(3, 33, 31)">
        #{{ variety.category_Id }}
      </td>
      <td
        style="width: 50%; padding: 5px; border-right: 3px solid rgb(3, 33, 31)"
        
      >
        <a class="btn btn-success"
            style="color: rgb(16, 246, 227);text-decoration: none;font-size: 1.3em"
            href="/manager_dash/category_catalog/{{ variety.category_Id }}"
            >___{{ variety.category_Name }}___</a
          ></button>{% if list[loop.index-1] > 0 %}
          <span><button type="button" STYLE="font-family:'Verdana',margin-left = 5px;"class="btn btn-danger">
            Out of stock: <span STYLE="font-family:'Verdana';margin-left : 5px" class="badge ">{{ list[loop.index-1] }}</span>  
          </button></span>{% else %}<span></span>{% endif %}
      </td>
      <td >
        <a class="btn btn-info btn-sm" style="width:80%;color:rgb(246, 5, 218);font-size: 0.9em"  href="{{ url_for('views.Update_category', id = variety.category_Id)}}"
          >Edit</a
        >

      </td>
      <td  >
        
        <strong><a class="btn btn-info btn-sm" style="width:60%;color:rgb(246, 5, 218);font-size: 1em;margin:1px" href="/manager_dash/category_create/{{ variety.category_Id }}" style="text-decoration: none;"
          >Add Product</a
        ></strong>
      </td>
      <td >
        <!-- <button type="button" class="btn btn-warning btn-sm"><strong> -->
      <strong><a class="btn btn-warning btn-sm"  onclick="return confirm('Are you sure to delete?')" style="width:100%; color: red;text-decoration: none;font-size: 1em;margin:1px" href="/manager_dash/delete_category/{{ variety.category_Id }}"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-trash" viewBox="0 0 16 16">
        <path d="M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5Zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5Zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6Z"/>
        <path d="M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1ZM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118ZM2.5 3h11V2h-11v1Z"/>
      </svg></a></strong></button>
      </td></tr>
    </tr></tbody>
    {% endfor %}
  </table>
  <nav aria-label="...">
    <ul class="pagination">
      {% if categories.has_prev %}
      <li class="page-item ">
        <a class="page-link" href="{{ url_for('views.Dash_manager', page__1=categories.prev_num) }}" tabindex="-1">Previous</a>
      </li>{% endif %}
      {% for number in categories.iter_pages() %}
          {% if categories.page != number %}
             <li class="page-item "><a class="page-link" href="{{ url_for('views.Dash_manager', page_1=number) }}">{{ number }}</a></li>
      {% else %}
        <li class="page-item ">
          <a class="page-link active" href="{{ url_for('views.Dash_manager', page_1=categories.page) }}">{{ categories.page }}<span class="sr-only"></span></a>
      </li>
  {% endif %}
  {% endfor %}
  {% if categories.has_next %}
  
  
      <li class="page-item">
        <a class="page-link" href="{{ url_for('views.Dash_manager', page_1=categories.next_num) }}">Next</a>
      </li>
      {% endif %}
    </ul>
  </nav>
  {% endif %}
</div></section>
<section>
  <strong><span class="text-center" style="font-size:2vw;margin-left:20%;color:rgba(10, 0, 3, 0.426)">Orders Received</span></strong>
  <div class="col-1" > <h6>(Page {{ orders.page }})</h6> </div><span>
    <form action="{{ url_for('views.Dash_manager') }}" method="POST" autocomplete="off">
      <div class="row" >
        
        <div class="col-3" style="margin-left:10%">
          <input type="date" style="color:rgb(251, 169, 169);" value="None"class="form-control" name="date" id="date" placeholder="Enter Date" />
        </div>
        <div class="col-1" >
          <input type="submit" class="form-control btn btn-primary" value="Search"  /> 
        </div>
        
        <div class="col-1" style="margin-left:0%"align="left"><button type="submit" class="btn btn-dark" formaction="{{ url_for('views.Dash_manager')}}">
          Back </button>
        </div></form>

        <button type="button" class="btn btn-info" style="width: 21%;margin-left: 0%;color: rgba(227, 21, 7, 0.809); font-size: 1.5vw;text-decoration: none;" data-toggle="modal" data-target="#exampleModalCenter1">
          <em>Customer Spending</em>
        </button>
        
        <!-- Modal -->
        <div class="modal fade modal-lg" id="exampleModalCenter1" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true" style="width:1500px;">
          <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content">
              <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLongTitle1">Most Spending Customer</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                  <span aria-hidden="true">&times;</span>
                </button>
              </div>
              <div class="modal-body">
                <img src="{{ url_for('static',filename='BestCustomer.png') }}">
              </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                
              </div>
            </div>
          </div>
        </div></span>
      
    
  
  <table class="table table-hover"
    style="
      border: 5px solid rgba(0, 60, 255, 0.781);

      /* background-color: #96d4d4; */
      width: 70%;
    "
  ><thead class="thead-dark">
    <tr align="center" style="border-bottom: 2px solid black">
      <th
        style="
          padding: 10px 10px;
          width: 10%;
          border-right: 3px solid rgb(3, 33, 31);
        "
      >
        Customer_Id
      </th>
      <th
        style="
          border-right: 3px solid rgb(3, 33, 31);

          padding: 10px 10px;
          width: 45%;
        " colspan="2"
      >
        Product & Category Name
    </th>
    <th
        style="
          border-right: 3px solid rgb(3, 33, 31);

          padding: 10px 10px;
          width: 15%;
        "
      >
        Qty
    </th>
      <th style=" border-right: 3px solid rgb(3, 33, 31);padding: 10px 10px; width: 25%">
        Order Received
      </th>
      
    </tr></thead>
    <tbody>

    {% for record in orders.items %}
    <tr align="center" style="width: 100%">
      <td style="padding: 10px; border-right: 3px solid rgb(3, 33, 31)">
        #{{ record.customer_id }}
      </td>
      <td
        
        
      ><span>
        <td style="width: 50%; padding: 5px; border-right: 3px solid rgb(3, 33, 31)"><small style="color:#0000ff" class="text-muted"><h6 style="color:rgb(255, 0, 170)" class="font-weight-light" >{{ record.category_name}}</h6></small>
          <a class="btn btn-light"
            style="color: #0000ff;text-decoration: none;font-size: 1.3em"
            href=""
            >**{{ record.product_name }}**</a
          ></span></button></td>
      </td>
      <td style="padding: 10px; border-right: 3px solid rgb(3, 33, 31)">
        {{ record.quantity_inCart }}
      </td>
      <td  style="width: 50%; padding: 5px; border-right: 3px solid rgb(3, 33, 31)">{{ record.date_added }}
        
      </td>
    
      </tr>
    </tr>
  </tbody>
    {% endfor %}
    
  </table></div></section>
<nav aria-label="...">
  <ul class="pagination">
    {% if orders.has_prev %}
    <li class="page-item ">
      <a class="page-link" href="{{ url_for('views.Dash_manager', page_2=orders.prev_num) }}" tabindex="-1">Previous</a>
    </li>{% endif %}
    {% for number in orders.iter_pages() %}
        {% if orders.page != number %}
           <li class="page-item "><a class="page-link" href="{{ url_for('views.Dash_manager', page_2=number) }}">{{ number }}</a></li>
    {% else %}
      <li class="page-item ">
        <a class="page-link active" href="{{ url_for('views.Dash_manager', page_2=orders.page) }}">{{ orders.page }}<span class="sr-only"></span></a>
    </li>
{% endif %}
{% endfor %}
{% if orders.has_next %}


    <li class="page-item">
      <a class="page-link" href="{{ url_for('views.Dash_manager', page_2=orders.next_num) }}">Next</a>
    </li>
    {% endif %}
  </ul>
</nav>
{% endblock %}
